# my global config
global:
  scrape_interval:     15s # By default, scrape targets every 15 seconds.
  evaluation_interval: 15s # By default, scrape targets every 15 seconds.
  # scrape_timeout is set to the global default (10s).

  # Attach these labels to any time series or alerts when communicating with
  # external systems (federation, remote storage, Alertmanager).
  external_labels:
      monitor: 'NPF2016'

# Load and evaluate rules in this file every 'evaluation_interval' seconds.
rule_files:
  - "alert.rules"
  # - "first.rules"
  # - "second.rules"

# A scrape configuration containing exactly one endpoint to scrape:
# Here it's Prometheus itself.
scrape_configs:
  # The job name is added as a label `job=<job_name>` to any timeseries scraped from this config.
  - job_name: 'prometheus'

    # Override the global default and scrape targets from this job every 5 seconds.
    scrape_interval: 5s

    # metrics_path defaults to '/metrics'
    # scheme defaults to 'http'.

    static_configs:
      - targets:
        - 'localhost:9090'
        - 'cadvisor:8080'
        - 'node-exporter:9100'
        - '10.0.1.101:8000'  # Rack1 - Power collector data
        - '10.0.1.201:8000'  # Rack2 - Power collector data

  - job_name: 'snmp-servers'
    scrape_interval: 30s
    static_configs:
      - targets:
        - 10.0.0.1
        - 10.0.0.2
        - 10.0.0.5
        - 10.0.0.6
        - 10.0.1.11
        - 10.0.1.70
        - 10.0.1.90
        - 10.0.1.100
        - 10.0.1.171
        - 10.0.1.191
        - 10.0.1.200
    metrics_path: /snmp
    params:
      module: [servers]
    relabel_configs:
      - source_labels: [__address__]
        target_label: __param_target
      - source_labels: [__param_target]
        target_label: instance
      - target_label: __address__
        replacement: snmp-exporter:9116  # SNMP exporter.

  - job_name: 'snmp-dist'
    scrape_interval: 30s
    static_configs:
      - targets:
        - 10.255.255.1
        - 10.255.255.2
        - 10.255.255.3
        - 10.255.255.4
        - 10.255.255.5
        - 10.255.255.6
        - 10.255.255.7
        - 10.255.255.8
        - 10.255.255.9
        - 10.255.255.10
        - 10.255.255.11
        - 10.255.255.12
        - 10.255.255.13
        - 10.255.255.14
        - 10.255.255.111
        - 10.255.255.222
        - 10.255.255.250
        - 10.255.255.251
        - 10.255.255.253
        - 10.255.255.254
    metrics_path: /snmp
    params:
      module: [dist]
    relabel_configs:
      - source_labels: [__address__]
        target_label: __param_target
      - source_labels: [__param_target]
        target_label: instance
      - target_label: __address__
        replacement: snmp-exporter:9116  # SNMP exporter.

  - job_name: 'snmp-access'
    scrape_interval: 30s
    static_configs:
      - targets:
        - 10.255.255.1
        - 10.255.201.3
        - 10.255.201.4
        - 10.255.201.5
        - 10.255.201.6
        - 10.255.201.7
        - 10.255.201.8
        - 10.255.201.9
        - 10.255.201.10
        - 10.255.201.11
        - 10.255.201.12
        - 10.255.201.13
        - 10.255.201.14
        - 10.255.201.15
        - 10.255.201.16
        - 10.255.201.17
        - 10.255.201.18
        - 10.255.201.19
        - 10.255.201.20
        - 10.255.201.21
        - 10.255.201.22
        - 10.255.201.23
        - 10.255.201.24
        - 10.255.201.25
        - 10.255.201.26
        - 10.255.201.27
        - 10.255.202.2
        - 10.255.202.3
        - 10.255.202.4
        - 10.255.202.5
        - 10.255.202.6
        - 10.255.202.7
        - 10.255.202.8
        - 10.255.202.9
        - 10.255.202.10
        - 10.255.202.11
        - 10.255.202.12
        - 10.255.202.13
        - 10.255.202.14
        - 10.255.202.15
        - 10.255.202.16
        - 10.255.202.17
        - 10.255.202.18
        - 10.255.202.19
        - 10.255.202.20
        - 10.255.202.21
        - 10.255.202.22
        - 10.255.202.23
        - 10.255.202.24
        - 10.255.202.25
        - 10.255.202.26
        - 10.255.202.27
        - 10.255.202.28
        - 10.255.203.2
        - 10.255.203.3
        - 10.255.203.4
        - 10.255.203.5
        - 10.255.203.6
        - 10.255.203.7
        - 10.255.203.8
        - 10.255.203.9
        - 10.255.203.10
        - 10.255.203.11
        - 10.255.203.12
        - 10.255.203.13
        - 10.255.203.14
        - 10.255.203.15
        - 10.255.203.16
        - 10.255.203.17
        - 10.255.203.18
        - 10.255.203.19
        - 10.255.203.20
        - 10.255.203.21
        - 10.255.203.22
        - 10.255.204.2
        - 10.255.204.3
        - 10.255.204.4
        - 10.255.204.5
        - 10.255.204.6
        - 10.255.204.7
        - 10.255.204.8
        - 10.255.204.9
        - 10.255.204.10
        - 10.255.204.11
        - 10.255.204.12
        - 10.255.204.13
        - 10.255.204.14
        - 10.255.204.15
        - 10.255.205.2
        - 10.255.205.3
        - 10.255.205.4
        - 10.255.205.5
        - 10.255.205.6
        - 10.255.205.7
        - 10.255.205.8
        - 10.255.205.9
        - 10.255.205.10
        - 10.255.205.11
        - 10.255.205.12
        - 10.255.205.13
        - 10.255.205.14
        - 10.255.205.15
        - 10.255.205.16
        - 10.255.205.17
        - 10.255.207.2
        - 10.255.207.3
        - 10.255.207.4
        - 10.255.207.5
        - 10.255.207.6
        - 10.255.207.7
        - 10.255.207.8
        - 10.255.207.9
        - 10.255.207.10
        - 10.255.207.11
        - 10.255.207.12
        - 10.255.207.13
        - 10.255.207.14
        - 10.255.207.15
        - 10.255.207.16
        - 10.255.207.17
        - 10.255.207.18
        - 10.255.207.19
        - 10.255.208.2
        - 10.255.208.3
        - 10.255.208.4
        - 10.255.208.5
        - 10.255.208.6
        - 10.255.208.7
        - 10.255.208.8
        - 10.255.208.9
        - 10.255.208.10
        - 10.255.208.11
        - 10.255.208.12
        - 10.255.208.13
        - 10.255.208.14
        - 10.255.208.15
        - 10.255.208.16
        - 10.255.208.17
        - 10.255.209.2
        - 10.255.209.3
        - 10.255.209.4
        - 10.255.209.5
        - 10.255.209.6
        - 10.255.209.7
        - 10.255.209.8
        - 10.255.209.9
        - 10.255.209.10
        - 10.255.209.11
        - 10.255.209.12
        - 10.255.209.13
        - 10.255.209.14
        - 10.255.209.15
        - 10.255.209.16
        - 10.255.209.17
        - 10.255.210.2
        - 10.255.210.3
        - 10.255.210.4
        - 10.255.210.5
        - 10.255.210.6
        - 10.255.210.7
        - 10.255.210.8
        - 10.255.210.9
        - 10.255.210.10
        - 10.255.210.11
        - 10.255.210.12
        - 10.255.210.13
        - 10.255.210.14
        - 10.255.210.15
        - 10.255.210.16
        - 10.255.210.17
        - 10.255.210.18
        - 10.255.210.19
        - 10.255.211.2
        - 10.255.211.3
        - 10.255.211.4
        - 10.255.211.5
        - 10.255.211.6
        - 10.255.211.7
        - 10.255.211.8
        - 10.255.211.9
        - 10.255.211.10
        - 10.255.211.11
        - 10.255.211.12
        - 10.255.211.13
        - 10.255.211.14
        - 10.255.211.15
        - 10.255.211.16
        - 10.255.211.17
        - 10.255.211.18
        - 10.255.211.19
        - 10.255.212.2
        - 10.255.212.3
        - 10.255.212.4
        - 10.255.212.5
        - 10.255.212.6
        - 10.255.212.7
        - 10.255.212.8
        - 10.255.212.9
        - 10.255.212.10
        - 10.255.212.11
        - 10.255.212.12
        - 10.255.212.13
        - 10.255.212.14
        - 10.255.212.15
        - 10.255.213.9
        - 10.255.213.10
        - 10.255.213.11
        - 10.255.213.12
        - 10.255.213.13
        - 10.255.213.14
        - 10.255.213.15
        - 10.255.213.16
        - 10.255.213.17
        - 10.255.213.18
        - 10.255.213.19
        - 10.255.213.20
        - 10.255.213.21
        - 10.255.213.22
        - 10.255.213.23
        - 10.255.213.24
        - 10.255.213.25
        - 10.255.213.26
        - 10.255.213.27
        - 10.255.213.28
        - 10.255.213.29
        - 10.255.213.30
        - 10.255.213.31
        - 10.255.214.7
        - 10.255.214.8
        - 10.255.214.9
        - 10.255.214.10
        - 10.255.214.11
        - 10.255.214.12
        - 10.255.214.13
        - 10.255.214.14
        - 10.255.214.15
        - 10.255.214.16
        - 10.255.214.17
        - 10.255.214.18
        - 10.255.214.19
        - 10.255.214.20
        - 10.255.214.21
        - 10.255.214.22
        - 10.255.214.23
        - 10.255.214.24
        - 10.255.214.25
        - 10.255.214.26
        - 10.255.253.2
        - 10.255.253.3
        - 10.255.253.4
        - 10.255.253.5
        - 10.255.253.6
        - 10.255.253.7
        - 10.255.253.8
        - 10.255.253.9
        - 10.255.253.10
        - 10.255.253.11
        - 10.255.253.12
        - 10.255.253.13
        - 10.255.253.14
        - 10.255.253.15
        - 10.255.253.16
        - 10.255.253.17
        - 10.255.252.2
        - 10.255.252.3
        - 10.255.252.4
        - 10.255.252.5
        - 10.255.251.2
        - 10.255.251.3
        - 10.255.251.4
        - 10.255.251.5
        - 10.255.251.6
        - 10.255.251.7
        - 10.255.251.8
        - 10.255.251.9
        - 10.255.251.10
        - 10.255.250.2
        - 10.255.250.3
        - 10.255.250.4
        - 10.255.250.5
        - 10.255.250.6
        - 10.255.250.7
        - 10.255.250.8
        - 10.255.250.9
        - 10.255.250.10
        - 10.255.205.18
        - 10.255.205.19
        - 10.255.205.20
        - 10.255.205.21
        - 10.255.205.22
        - 10.255.205.23
        - 10.255.205.24
        - 10.255.205.25
        - 10.255.205.22
        - 10.255.206.2
        - 10.255.206.3
        - 10.255.206.4
        - 10.255.206.5
        - 10.255.206.4
        - 10.255.206.5
        - 10.255.206.6
        - 10.255.206.7
        - 10.255.206.8
        - 10.255.206.9
        - 10.255.206.10
        - 10.255.206.11
        - 10.255.206.12
        - 10.255.206.13
        - 10.255.206.14
        - 10.255.212.14
        - 10.255.212.15
    metrics_path: /snmp
    params:
      module: [access]
    relabel_configs:
      - source_labels: [__address__]
        target_label: __param_target
      - source_labels: [__param_target]
        target_label: instance
      - target_label: __address__
        replacement: snmp-exporter:9116  # SNMP exporter.
